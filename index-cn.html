<html>

<head>

<meta http-equiv="content-type" content="text/html; charset=utf-8">
	
<meta name="viewport" content="width=device-width, initial-scale=1.2">

<title>å¬ä¹¦</title>
<link rel="icon" type="image/png" href="https://the-classics.github.io/icon-128-cn.png">

<meta property="og:title" content="å¬ä¹¦"> <meta property="og:url" content="https://the-classics.github.io/index-cn.html"> <meta property="og:image" content="https://the-classics.github.io/icon-128-cn.png"> <meta property="og:description" content="Some useful links.">

<style>
#blink {
font-size: 20px;
font-weight: bold;
color: #2d38be;
                transition: 0.5s;
}
</style>
        
<style>
/* unvisited link */
a:link {
  color: #07519a;
}

/* visited link */
a:visited {
  color: red;
}

/* mouse over link */
a:hover {
  color: hotpink;
}

/* selected link */
a:active {
  color: blue;
}
</style>

<style type="text/css">


a.NoUrl {
	color: gray;
}

a {
	color: #07519a;
	text-decoration: none;
}

</style>

<style>
* {
  box-sizing:border-box;
}

.left {
 /* background-color:#2196F3; */
  padding:20px;
  float:left;
  width:30%; /* The width is 20%, by default */
}

.main {
  /* background-color:#f1f1f1; */
  padding:20px;
  float:left;
  width:40%; /* The width is 60%, by default */
}

.right {
  /* background-color:#4CAF50;*/
  padding:20px;
  float:left;
  width:30%; /* The width is 20%, by default */
}

/* Use a media query to add a break point at 800px: */
@media screen and (max-width:200px) {
  .left, .main, .right {
    width:100%; /* The width is 100%, when the viewport is 800px or smaller */
  }
}
</style>

<link rel="stylesheet" href="https://math-examples.github.io/web/math-examples.css">

<script src="https://math-examples.github.io/web/math-examples.js"></script>

<script src="https://math-examples.github.io/web/requestUserRepoContent.js"></script>

</head>

<body>
   
<p>ä½ æ˜¯ç¬¬<img width="20" height="20" src="http://stuff.mit.edu/cgi/counter/the-classics.github.io/Chinese" alt="several">ä¸ªè®¿é—®è€…ï¼Œæ¬¢è¿!ğŸ˜ğŸ˜</p>
<p id="displayTime"></p>

<p id="blink">
ğŸ‰ğŸŠğŸ–</p>

<script type="text/javascript">
var blink = document.getElementById('blink');
            setInterval(function() {
                blink.style.opacity = (blink.style.opacity == 0 ? 1 : 0);
            }, 1500);
</script>
        
<div>

<button class="button" id="resizeText1" onclick="resizeText(1)">å­—ä½“â•ï¸</button>

<button class="button" id="resizeText2" onclick="resizeText(-1)">å­—ä½“â–ï¸</button>

</div>

<h3 id="Videos3" align="center">éŸ³é¢‘</h3>
<span class="warn">æ’­æ”¾æ­¥éª¤ï¼š<br>ç¬¬ä¸€æ­¥ï¼šç‚¹å¼€è¦æ’­æ”¾çš„éŸ³é¢‘åå­—ã€‚<br>
ç¬¬äºŒæ­¥ï¼šç­‰å¾…åŠåˆ†é’Ÿå·¦å³å°±ä¼šæ’­æ”¾ã€‚<br>
æ³¨æ„ï¼šå¦‚æœä¸èƒ½æ’­æ”¾ï¼Œé‚£å°±æ˜¯è¿˜åœ¨ä¸‹è½½ã€‚<br>
å¯ä»¥å…ˆå¬å…¶å®ƒçš„ï¼Œç­‰å‡ åˆ†é’Ÿå†å¬è¿™ä¸ªã€‚<br>
ä¸€éæ’­æ”¾å®Œä¼šè‡ªåŠ¨å•æ›²å¾ªç¯æ’­æ”¾ã€‚</span>

<div id='book1'
data-prefix='https://ChineseBooks.github.io/nature-sounds'>
<h4><a href="javascript:showList('book1')">è†å¬å¤§è‡ªç„¶çš„å£°éŸ³</a></h4>
</div>

<div id='book17'
data-prefix='https://ChineseBooks.github.io/yzt-zzbj-audio'>
<h4><a href="javascript:showList('book17')">æ˜“ä¸­å¤©è®²å…ˆç§¦è¯¸å­ç™¾å®¶äº‰é¸£</a></h4>
</div>

<div id='book20'
data-prefix='https://ChineseBooks.github.io/wlq-qsh-audio'>
<h4><a href="javascript:showList('book20')">ç‹ç«‹ç¾¤è¯»ã€Šå²è®°ã€‹ä¹‹ç§¦å§‹çš‡</a></h4>
</div>

<div id='book21'
data-prefix='https://ChineseBooks.github.io/wlq-xy-audio'>
<h4><a href="javascript:showList('book21')">ç‹ç«‹ç¾¤è®²é¡¹ç¾½</a></h4>
</div>

<div id='book22'
data-prefix='https://ChineseBooks.github.io/wlq-lb-audio'>
<h4><a href="javascript:showList('book22')">ç‹ç«‹ç¾¤è®²åˆ˜é‚¦</a></h4>
</div>

<div id='book23'
data-prefix='https://ChineseBooks.github.io/wlq-hwd-audio'>
<h4><a href="javascript:showList('book23')">ç‹ç«‹ç¾¤è¯»ã€Šå²è®°ã€‹ä¹‹æ±‰æ­¦å¸</a></h4>
</div>

<div id='book16'
data-prefix='https://ChineseBooks.github.io/yzt-sg-audio'>
<h4><a href="javascript:showList('book16')">æ˜“ä¸­å¤©å“ä¸‰å›½</a></h4>
</div>


<div id='book11'
data-prefix='https://ChineseBooks.github.io/ddj-audio'>
<h4><a href="javascript:showList('book11')">ã€Šé“å¾·ç»ã€‹åŸæ–‡æœ—è¯»</a></h4>
</div>

<div id='book12'
 data-prefix='https://ChineseBooks.github.io/zsq-ddj-audio'>
<h4><a href="javascript:showList('book12')">æ›¾ä»•å¼ºè®²ã€Šé“å¾·ç»ã€‹</a></h4>
</div>

<div id='book13'
 data-prefix='https://ChineseBooks.github.io/zsq-yj-audio'>
<h4><a href="javascript:showList('book13')">æ›¾ä»•å¼ºè®²ã€Šæ˜“ç»ã€‹</a></h4>
</div>

<div id='book14'
data-prefix='https://ChineseBooks.github.io/zsq-sgyy-audio'>
<h4><a href="javascript:showList('book14')">æ›¾ä»•å¼ºè®²ã€Šä¸‰å›½æ¼”ä¹‰ã€‹</a></h4>
</div>

<div id='book15'
data-names='names.txt'
data-prefix='https://ChineseBooks.github.io/zsq-hdnj-audio'>
<h4><a href="javascript:showList('book15')">äº†ä¸èµ·çš„ã€Šé»„å¸å†…ç»ã€‹ï¼ˆç™¾å®¶è®²å›ï¼‰</a></h4>
</div>

<div id='book19'
data-prefix='https://ChineseBooks.github.io/wlq-ss-audio'>
<h4><a href="javascript:showList('book19')">ç‹ç«‹ç¾¤è¯»å®‹å²</a></h4>
</div>

<div id='book18'
data-prefix='https://ChineseBooks.github.io/yldd-audio'>
<h4><a href="javascript:showList('book18')">æ°¸ä¹å¤§å¸ï¼ˆç™¾å®¶è®²å›ï¼‰</a></h4>
</div>

<h3 id="Videos33" align="center">åè‘—</h3>

<ol id="userReposContent"></ol>

<h3 id="Links" align="center"><a href="https://the-classics.github.io/index-eng.html">è‹±è¯­</a></h3>

<script>
async function downloadFileAsArray(href) {
    if(!href){return "";}
	let response = await fetch(href);
		
	if(response.status != 200) {
		throw new Error("Server Error");
	}
		
	// read response stream as text
	let text_data = await response.text();
const data = text_data.split(/\r?\n/).filter(element => element);
	return data;
}

function setGolbalVarByName(name, value){
    let f = new Function('x', `${name} = x;`);
    f(value);
}

function getArrayEleByArrayName(arrName, i){
    let f = new Function(`return ${arrName}[${i}];`);
    return f();
}

function getUrl(pid, i){
const par = document.getElementById(pid);
const prefix = par.getAttribute("data-prefix");
const glist = pid+'list';
let f = new Function(`return ${glist}[${i-1}];`);
const url =`${prefix}/${f()}`;
return url;
}

async function nextAudioTagAsync(pid){
    let par = document.getElementById(pid);
    let prefix = par.getAttribute("data-prefix");
    const href=`${prefix}/list.txt`;
    const list = await downloadFileAsArray(href);
    par.setAttribute("data-n", list.length);
    const glist = pid+'list';
    setGolbalVarByName(glist, list);
    
    let names = par.getAttribute("data-names");
    if(names){
        const hname=`${prefix}/${names}`;
        names = await downloadFileAsArray(hname);
        const gnames = pid+'names';
        if(list.length===names.length){
            setGolbalVarByName(gnames, names);
        }else par.setAttribute("data-names", '');
    }
    nextAudioTag(pid, 1);
}

function showList(pid){
    let par = document.getElementById(pid);
    let c = par.getAttribute("data-clicked");
    if(!c){
        par.setAttribute("data-clicked", 1);
        nextAudioTagAsync(pid);
    }
}

function padWithZero(num, targetLength) {
  let str = String(num);

  while (str.length < targetLength) {
    str = '0' + str;
  }

  return str;
}

function next(str){
    var m = str.match(/\d+/g);
    if(!m || m.length<1)return;
    var s0 = m[m.length-1];
    var num = parseInt(s0);
    num+=1;
    var s2 = ''+num;
    var l2 = s2.length;
    if(s0.length<l2)l2 = s0.length;
    var s1 = str.substring(0, str.length-l2);
    if(s1)s2 = s1 + s2;
    return s2;
}

let nmin = 10;

function nextAudioTag(pid, which){
    let par = document.getElementById(pid);
    let ol = par.querySelector('ul');
    if(ol===null){
        let div = document.createElement('div');
        div.className = 'cur-audio';
        par.appendChild(div);
        let divbtn = document.createElement('div');
        par.appendChild(divbtn);
        divbtn.innerHTML = (`
<button class="button" onclick="nextAudioTag('${pid}', -1)">ä¸Šä¸€é¡µ</button>
<button class="button" onclick="nextAudioTag('${pid}', 1)">ä¸‹ä¸€é¡µ</button>
`);
        ol = document.createElement('ul');
        par.appendChild(ol);
    }
    
    while(ol.firstChild) {
        ol.removeChild(ol.firstChild);
    }
    let n = parseInt(par.getAttribute("data-n"));
    let getUrlCb = par.getAttribute("data-urlcb");
    if(!getUrlCb)getUrlCb='getUrl';
    getUrlCb = new Function('pid', 'x', `return ${getUrlCb}(pid, x);`);
    let gp = par.getAttribute("data-page");
    if(gp===null)gp=0;
    else gp=parseInt(gp);
    gp=gp+which;
    //alert(typeof gp);
    if(gp<1)gp = Math.ceil(n/nmin);
    if((gp-1)*nmin>=n)gp =1;
    par.setAttribute("data-page", gp);
    
for (let j = 1; j <= nmin; ++j) {
let i = (gp-1)*nmin + j;
if(i>n){break;}
let url = getUrlCb(pid, i);

//alert(data[i].download_url);
//alert(data[i].name);
        // for (let i in data) {

let li = document.createElement('li');

let link = url;
let isfile =1;
        // var name = data[i].name.split('-').pop();

var name;
let names = par.getAttribute("data-names");
if(names){
            const gnames = pid+'names';
            let f = new Function(`return ${gnames}[${i-1}];`);
            name = f();
}else{
name = url.split('/').pop();
            //alert(name);
if(isfile){
    if (name.charAt(0) =='\('){
            let ii = name.indexOf('\)');
            if(ii+1<name.length)name = name.substr(ii+1);
        }
var ilast = name.lastIndexOf('.');
if(ilast>0)name = name.substring(0, ilast);
}
}

            // Create the html markup for each li

//metadata
//            <p><a class="audio" href="${link}">${name}</a></p>
            li.innerHTML = (`
<p><a class="audio" href="javascript:setAudio('${pid}', '${link}', '${name}')">${name}</a></p>
`);

            

            // Append each li to the ul

            ol.appendChild(li);
} // end for

}

//requestUserRepoContent('the-classics', 'Chinese');

function setAudio(pid, link, name){
    let par = document.getElementById(pid);
    let div = par.querySelector('.cur-audio');
    while(div.firstChild) {
        div.removeChild(div.firstChild);
    }
    //muted
    div.innerHTML = (`
<figure>
    <figcaption id='aname'>${name}</figcaption>
    <audio controls loop autoplay>
        <source id='asrc' src="${link}" type="audio/ogg">
            <a class="audio" id='ahref' href="${link}">
                ä¸‹è½½éŸ³é¢‘
            </a>
    </audio>
</figure>
`);
let au = par.querySelector('audio');
au.play();
    
}
</script>

</body>

</html>
